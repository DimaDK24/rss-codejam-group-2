{"version":3,"sources":["webpack:///./src/components/AuthorLink/AuthorLink.jsx","webpack:///./src/pages/authors.jsx","webpack:///./.cache/gatsby-browser-entry.js","webpack:///./.cache/public-page-renderer.js","webpack:///./.cache/public-page-renderer-prod.js","webpack:///./src/components/footer.jsx","webpack:///./src/components/header.jsx","webpack:///./src/components/layout.jsx"],"names":["AuthorLink","_ref","name","birthplace","react_default","a","createElement","className","gatsby_browser_entry","to","propTypes","PropTypes","string","isRequired","AuthorsPage","props","_this","_Component","call","this","onInputChange","bind","assertThisInitialized_default","state","searching","foundAuthors","authors","searcher","e","searchString","target","value","search","setState","createSearcher","items","options","fuse","shouldSort","threshold","location","distance","maxPatternLength","minMatchCharLength","keys","Fuse","render","_this$state","_getAuthorsAndText","authorsForRender","authorsText","allAuthors","length","getAuthorsAndText","layout","htmlFor","id","onChange","map","author","key","components_AuthorLink_AuthorLink","Component","__webpack_require__","r","__webpack_exports__","d","graphql","StaticQueryContext","StaticQuery","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","n","prop_types__WEBPACK_IMPORTED_MODULE_1__","prop_types__WEBPACK_IMPORTED_MODULE_1___default","gatsby_link__WEBPACK_IMPORTED_MODULE_2__","gatsby_link__WEBPACK_IMPORTED_MODULE_2___default","_public_page_renderer__WEBPACK_IMPORTED_MODULE_3__","_public_page_renderer__WEBPACK_IMPORTED_MODULE_3___default","_parse_path__WEBPACK_IMPORTED_MODULE_4__","React","createContext","Consumer","staticQueryData","data","query","children","Error","object","func","m","module","exports","require","default","ProdPageRenderer","pageResources","loader","getResourcesForPathnameSync","pathname","InternalPageRenderer","Object","assign","json","shape","Footer","objectWithoutPropertiesLoose_default","node","Header","home","injectGlobal","_templateObject","Layout","Helmet_default","titleTemplate","site","siteMetadata","title","defaultTitle","lang","language","_3468613259","components_header","components_footer","align"],"mappings":"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","file":"component---src-pages-authors-jsx-7320e0a5438bbfc70695.js","sourcesContent":["import { Link } from 'gatsby';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport './AuthorLink.css';\n\nfunction AuthorLink({ name, birthplace }) {\n  return (\n    <div className=\"author-link\">\n      <Link to=\"/author\">{name}.</Link>\n      <span> Город рождения: {birthplace}</span>\n    </div>\n  );\n}\n\nAuthorLink.propTypes = {\n  name: PropTypes.string.isRequired,\n  birthplace: PropTypes.string.isRequired,\n};\n\nexport default AuthorLink;\n","import Fuse from 'fuse.js';\nimport React, { Component } from 'react';\nimport { authors } from '../../data/authors';\nimport AuthorLink from '../components/AuthorLink/AuthorLink';\nimport Layout from '../components/layout';\nimport './authors.css';\n\nconst searcher = (items, searchKeys) => {\n  const options = {\n    shouldSort: true,\n    threshold: 0.4,\n    location: 0,\n    distance: 100,\n    maxPatternLength: 32,\n    minMatchCharLength: 1,\n    keys: searchKeys,\n  };\n  const fuse = new Fuse(items, options);\n  return searchString => fuse.search(searchString);\n};\n\nfunction getAuthorsAndText({ searching, foundAuthors, allAuthors }) {\n  let authorsForRender;\n  let authorsText;\n  if (searching) {\n    authorsForRender = foundAuthors;\n    if (!authorsForRender.length)\n      authorsText = 'Нету писателей по такому запросу :(';\n    else authorsText = 'Найденные писатели:';\n  } else {\n    authorsForRender = allAuthors;\n    authorsText = 'Наши писатели:';\n  }\n  return { authorsForRender, authorsText };\n}\n\nclass AuthorsPage extends Component {\n  constructor(props) {\n    super(props);\n    this.onInputChange = this.onInputChange.bind(this);\n    this.state = {\n      searching: false,\n      foundAuthors: authors,\n    };\n    this.searcher = null;\n  }\n\n  onInputChange(e) {\n    const searchString = e.target.value;\n    if (searchString !== '') {\n      this.search(searchString);\n    } else this.setState({ searching: false });\n  }\n\n  createSearcher() {\n    this.searcher = searcher(authors, ['name', 'birthplace']);\n  }\n\n  search(searchString) {\n    this.setState({ searching: true });\n    if (!this.searcher) this.createSearcher();\n    const foundAuthors = this.searcher(searchString);\n    this.setState({ foundAuthors });\n  }\n\n  render() {\n    const { searching, foundAuthors } = this.state;\n    const { authorsForRender, authorsText } = getAuthorsAndText({\n      searching,\n      foundAuthors,\n      allAuthors: authors,\n    });\n    return (\n      <Layout>\n        <section className=\"wrapper\">\n          <div className=\"search-wrapper\">\n            <label htmlFor=\"search-input\">\n              Поиск писателей:\n              <input\n                id=\"search-input\"\n                className=\"search-input\"\n                onChange={this.onInputChange}\n              />\n            </label>\n          </div>\n          <span className=\"text\">{authorsText}</span>\n          <ul className=\"authors-list\">\n            {authorsForRender.map(author => (\n              <li key={author.id} className=\"author\">\n                <AuthorLink birthplace={author.birthplace} name={author.name} />\n              </li>\n            ))}\n          </ul>\n        </section>\n      </Layout>\n    );\n  }\n}\n\nexport default AuthorsPage;\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\nimport Link, {\n  withPrefix,\n  navigate,\n  push,\n  replace,\n  navigateTo,\n} from \"gatsby-link\"\nimport PageRenderer from \"./public-page-renderer\"\nimport parsePath from \"./parse-path\"\n\nconst StaticQueryContext = React.createContext({})\n\nconst StaticQuery = props => (\n  <StaticQueryContext.Consumer>\n    {staticQueryData => {\n      if (\n        props.data ||\n        (staticQueryData[props.query] && staticQueryData[props.query].data)\n      ) {\n        return (props.render || props.children)(\n          props.data ? props.data.data : staticQueryData[props.query].data\n        )\n      } else {\n        return <div>Loading (StaticQuery)</div>\n      }\n    }}\n  </StaticQueryContext.Consumer>\n)\n\nStaticQuery.propTypes = {\n  data: PropTypes.object,\n  query: PropTypes.string.isRequired,\n  render: PropTypes.func,\n  children: PropTypes.func,\n}\n\nfunction graphql() {\n  throw new Error(\n    `It appears like Gatsby is misconfigured. Gatsby related \\`graphql\\` calls ` +\n      `are supposed to only be evaluated at compile time, and then compiled away,. ` +\n      `Unfortunately, something went wrong and the query was left in the compiled code.\\n\\n.` +\n      `Unless your site has a complex or custom babel/Gatsby configuration this is likely a bug in Gatsby.`\n  )\n}\n\nexport {\n  Link,\n  withPrefix,\n  graphql,\n  parsePath,\n  navigate,\n  push, // TODO replace for v3\n  replace, // TODO remove replace for v3\n  navigateTo, // TODO: remove navigateTo for v3\n  StaticQueryContext,\n  StaticQuery,\n  PageRenderer,\n}\n","const preferDefault = m => (m && m.default) || m\n\nif (process.env.BUILD_STAGE === `develop`) {\n  module.exports = preferDefault(require(`./public-page-renderer-dev`))\n} else if (process.env.BUILD_STAGE === `build-javascript`) {\n  module.exports = preferDefault(require(`./public-page-renderer-prod`))\n} else {\n  module.exports = () => null\n}\n","import React from \"react\"\nimport PropTypes from \"prop-types\"\n\nimport InternalPageRenderer from \"./page-renderer\"\nimport loader from \"./loader\"\n\nconst ProdPageRenderer = ({ location }) => {\n  const pageResources = loader.getResourcesForPathnameSync(location.pathname)\n  return React.createElement(InternalPageRenderer, {\n    location,\n    pageResources,\n    ...pageResources.json,\n  })\n}\n\nProdPageRenderer.propTypes = {\n  location: PropTypes.shape({\n    pathname: PropTypes.string.isRequired,\n  }).isRequired,\n}\n\nexport default ProdPageRenderer\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport './footer.css';\n\nconst Footer = ({ children, ...props }) => (\n  <footer {...props}>\n    <div>{children}</div>\n  </footer>\n);\n\nFooter.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default Footer;\n","import { Link } from 'gatsby';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport './header.css';\n\nconst Header = ({ home, authors, ...props }) => (\n  <header {...props}>\n    <div className=\"nav-header\">\n      <Link className=\"nav-header__item\" to=\"/\">\n        {home}\n      </Link>\n      <Link className=\"nav-header__item\" to=\"/authors/\">\n        {authors}\n      </Link>\n    </div>\n  </header>\n);\n\nHeader.propTypes = {\n  home: PropTypes.node.isRequired,\n  authors: PropTypes.node.isRequired,\n};\n\nexport default Header;\n","import { graphql, StaticQuery } from 'gatsby';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport Helmet from 'react-helmet';\nimport { injectGlobal } from 'styled-components';\nimport Footer from './footer';\nimport Header from './header';\n\ninjectGlobal`\n  body {\n    margin: 0;\n    text-size-adjust: 100%;\n  }\n`;\n\nconst Layout = ({ children }) => (\n  <div>\n    <StaticQuery\n      query={graphql`\n        {\n          site {\n            siteMetadata {\n              title\n              language\n            }\n          }\n        }\n      `}\n      render={data => (\n        <Helmet\n          titleTemplate={`%s | ${data.site.siteMetadata.title}`}\n          defaultTitle={data.site.siteMetadata.title}\n        >\n          <html lang={data.site.siteMetadata.language} />\n        </Helmet>\n      )}\n    />\n\n    <Header home=\"Home\" authors=\"Authors\" />\n\n    <main>{children}</main>\n\n    <Footer>\n      <p align=\"center\">Sticky footer</p>\n    </Footer>\n  </div>\n);\n\nLayout.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default Layout;\n"],"sourceRoot":""}